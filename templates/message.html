<div id="{{ message.id }}"
    class="msg {{ message.get_platform_string() }} {{ message.get_badge_string() }} {{ message.get_paid_string() }}"
    style="order: {{ message.sent_at / 1000 }}" data-paid-tier="{{ message.get_paid_tier() }}">
    {% if message.is_premium() ~%}
    <div class="msg-header">
        <div class="msg-avatar-border">
            <span class="msg-letter">{{ message.get_letter() }}</span>
            <img class="msg-avatar" src="{{ message.avatar }}" />
        </div>
        <div class="msg-container">
            <div class="msg-user">
                <span class="msg-username">{{ message.username|safe }}</span>
                <span class="msg-badges">
                    {%- if message.is_owner %}<span class="msg-badge msg-badge--owner" title="Owner"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M5 16L3 5l5.5 5L12 4l3.5 6L21 5l-2 11H5zm14 3c0 .6-.4 1-1 1H6c-.6 0-1-.4-1-1v-1h14v1z"/></svg></span>{% endif -%}
                    {%- if message.is_staff %}<span class="msg-badge msg-badge--staff" title="Staff"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2z"/></svg></span>{% endif -%}
                    {%- if message.is_mod %}<span class="msg-badge msg-badge--mod" title="Moderator"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 4l4 2v3c0 2.97-1.67 5.68-4 7-2.33-1.32-4-4.03-4-7V7l4-2z"/></svg></span>{% endif -%}
                    {%- if message.is_verified %}<span class="msg-badge msg-badge--verified" title="Verified"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/></svg></span>{% endif -%}
                    {%- if message.is_sub %}<span class="msg-badge msg-badge--sub" title="Subscriber"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2z"/></svg></span>{% endif -%}
                </span>
            </div>
            <div class="msg-amount">{{ message.get_paid_readable_amount() }}</div>
        </div>
    </div>
    <div class="msg-text">{{ message.message|safe }}</div>
    {%~ else ~%}
    <div class="msg-avatar-border">
        <span class="msg-letter">{{ message.get_letter() }}</span>
        <img class="msg-avatar" src="{{ message.avatar }}" />
    </div>
    <div class="msg-container">
        <div class="msg-user">
            <span class="msg-username">{{ message.username|safe }}</span>
            <span class="msg-badges">
                {%- if message.is_owner %}<span class="msg-badge msg-badge--owner" title="Owner"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M5 16L3 5l5.5 5L12 4l3.5 6L21 5l-2 11H5zm14 3c0 .6-.4 1-1 1H6c-.6 0-1-.4-1-1v-1h14v1z"/></svg></span>{% endif -%}
                {%- if message.is_staff %}<span class="msg-badge msg-badge--staff" title="Staff"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2z"/></svg></span>{% endif -%}
                {%- if message.is_mod %}<span class="msg-badge msg-badge--mod" title="Moderator"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 4l4 2v3c0 2.97-1.67 5.68-4 7-2.33-1.32-4-4.03-4-7V7l4-2z"/></svg></span>{% endif -%}
                {%- if message.is_verified %}<span class="msg-badge msg-badge--verified" title="Verified"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/></svg></span>{% endif -%}
                {%- if message.is_sub %}<span class="msg-badge msg-badge--sub" title="Subscriber"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2z"/></svg></span>{% endif -%}
            </span>
        </div>
        <div class="msg-text">{{ message.message|safe }}</div>
    </div>
    {%~ endif %}
</div>
